<div id="review-screen-container">
    <div id="review-toolbar">
        <button class="toolbar-btn" data-panel="photos">사진</button>
        <button class="toolbar-btn" data-panel="templates">템플릿</button>
        <button class="toolbar-btn" data-panel="stickers">스티커</button>
        <button class="toolbar-btn" data-panel="filters">필터</button>
    </div>

    <div id="review-panel">
        <div id="panel-handle"></div>
        <div id="panel-selector">
            <button class="panel-selector-btn active" data-panel="stickers">스티커</button>
            <button class="panel-selector-btn" data-panel="text">텍스트</button>
        </div>
        <div id="review-panel-content">
            <div class="panel-section" data-panel="stickers">
                <div id="sticker-gallery" class="gallery-container"></div>
                <input type="file" id="sticker-upload-input" accept="image/png, image/jpeg" style="display: none;">
            </div>
            <div class="panel-section" data-panel="text">
                <div id="font-gallery" class="gallery-container"></div>
            </div>
            <div class="panel-section" data-panel="filters">
                <div id="filter-controls">
                    <div class="filter-slider">
                        <label for="brightness">밝기</label>
                        <input type="range" id="brightness" data-filter="brightness" min="0" max="200" value="100">
                    </div>
                    <div class="filter-slider">
                        <label for="contrast">대비</label>
                        <input type="range" id="contrast" data-filter="contrast" min="0" max="200" value="100">
                    </div>
                    <div class="filter-slider">
                        <label for="saturation">채도</label>
                        <input type="range" id="saturation" data-filter="saturate" min="0" max="200" value="100">
                    </div>
                    <div class="filter-slider">
                        <label for="warmth">따뜻함</label>
                        <input type="range" id="warmth" data-filter="warmth" min="0" max="200" value="100">
                    </div>
                    <div class="filter-slider">
                        <label for="sharpness">선명도</label>
                        <input type="range" id="sharpness" data-filter="sharpness" min="0" max="100" value="0">
                    </div>
                    <div class="filter-slider">
                        <label for="blur">블러</label>
                        <input type="range" id="blur" data-filter="blur" min="0" max="20" value="0">
                    </div>
                    <div class="filter-slider">
                        <label for="grain">그레인</label>
                        <input type="range" id="grain" data-filter="grain" min="0" max="100" value="0">
                    </div>
                    <div class="filter-checkbox">
                        <input type="checkbox" id="remove-bg-checkbox">
                        <label for="remove-bg-checkbox">배경 제거</label>
                    </div>
                    <div class="filter-slider" id="remove-bg-threshold-slider" style="display: none;">
                        <label for="remove-bg-threshold">배경 제거 민감도</label>
                        <input type="range" id="remove-bg-threshold" min="0" max="255" value="50">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="review-main-content">
        <div class="review-container">
            <div id="review-preview" class="preview-container">
                <div id="review-photos-container"></div>
                <img id="review-template-overlay" src="" alt="Template Overlay">
            </div>
        </div>
        <div id="strip-container">
            <div id="review-thumbnails" class="strip-panel photo-strip-scroll-box" data-panel="photos"></div>
            <div id="template-gallery-review" class="strip-panel photo-strip-scroll-box" data-panel="templates"></div>
            <div id="color-palette-panel" class="strip-panel photo-strip-scroll-box" data-panel="colors"></div>
            <div id="style-strip-panel" class="strip-panel photo-strip-scroll-box" data-panel="styles"></div>
        </div>
    </div>

    <div id="review-actions-container">
        <button id="retake-btn" style="display: none;">재촬영</button>
        <button id="stylize-btn" style="display: none;">스타일 변환</button>
        <div class="finalize-options">
            <button id="add-font-btn" style="display: none;">폰트 추가</button>
            <button id="finalize-btn">최종 완료</button>
        </div>
    </div>

    <!-- Add Style Modal -->
    <div id="add-style-modal" class="modal-hidden">
        <div class="modal-content">
            <h3>새 스타일 추가</h3>
            <input type="text" id="new-style-name" placeholder="Style Name (e.g., Futuristic)">
            <input type="text" id="new-style-prompt" placeholder="Enter a prompt (e.g., a beautiful fantasy landscape)">
            <div class="modal-actions">
                <button id="add-style-confirm-btn">확인</button>
                <button id="add-style-cancel-btn">취소</button>
            </div>
        </div>
    </div>

    <!-- Color Picker Modal -->
    <div id="color-picker-modal" class="modal-hidden">
        <div class="modal-content">
            <h3>사용자 지정 색상 선택</h3>
            <div class="color-picker-wrapper">
                <div id="color-picker-container"></div>
            </div>
            <input type="text" id="color-hex-input" placeholder="#ffffff">
            <div class="modal-actions">
                <button id="color-picker-confirm-btn">확인</button>
                <button id="color-picker-cancel-btn">취소</button>
            </div>
        </div>
    </div>
</div>