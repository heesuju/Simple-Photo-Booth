<div id="review-screen-container">
    <div class="review-container">
        <div id="review-preview" class="preview-container">
            <div id="review-photos-container"></div>
            <img id="review-template-overlay" src="" alt="Template Overlay">
        </div>
    </div>

    <div id="review-sidebar">
        <div id="strip-container">
            <div id="review-toolbar">
                <button class="toolbar-btn" data-panel="photos">사진</button>
                <button class="toolbar-btn" data-panel="templates">템플릿</button>
                <button class="toolbar-btn" data-panel="stickers">스티커</button>
                <button class="toolbar-btn" data-panel="filters">필터</button>
                <button class="toolbar-btn" data-panel="add-text">텍스트</button>
            </div>
            <button id="strip-back-btn" class="strip-back-btn" style="display: none;">&lt;</button>
            <div id="review-thumbnails" class="strip-panel photo-strip-scroll-box" data-panel="photos"></div>
            <div id="template-gallery-review" class="strip-panel photo-strip-scroll-box" data-panel="templates"></div>
            <div id="color-palette-panel" class="strip-panel photo-strip-scroll-box" data-panel="colors"></div>
            <div id="style-strip-panel" class="strip-panel photo-strip-scroll-box" data-panel="styles"></div>
            <div id="filter-preset-strip" class="strip-panel photo-strip-scroll-box" data-panel="filters"></div>
            <div id="sticker-gallery-strip" class="strip-panel photo-strip-scroll-box" data-panel="stickers">
                <div id="sticker-category-gallery" class="gallery-container"></div>
                <div id="sticker-gallery" class="gallery-container"></div>
                <input type="file" id="sticker-upload-input" accept="image/png, image/jpeg" style="display: none;">
            </div>
            <div id="font-gallery-strip" class="strip-panel photo-strip-scroll-box" data-panel="add-text">
                <div id="font-gallery" class="gallery-container"></div>
            </div>
            <div id="filter-controls-strip" class="strip-panel photo-strip-scroll-box" data-panel="filters">
                <div id="filter-controls">
                    <div class="filter-slider">
                        <label for="brightness">밝기</label>
                        <input type="range" id="brightness" data-filter="brightness" min="0" max="200" value="100">
                    </div>
                    <div class="filter-slider">
                        <label for="contrast">대비</label>
                        <input type="range" id="contrast" data-filter="contrast" min="0" max="200" value="100">
                    </div>
                    <div class="filter-slider">
                        <label for="saturation">채도</label>
                        <input type="range" id="saturation" data-filter="saturate" min="0" max="200" value="100">
                    </div>
                    <div class="filter-slider">
                        <label for="warmth">따뜻함</label>
                        <input type="range" id="warmth" data-filter="warmth" min="0" max="200" value="100">
                    </div>
                    <div class="filter-slider">
                        <label for="sharpness">선명도</label>
                        <input type="range" id="sharpness" data-filter="sharpness" min="0" max="100" value="0">
                    </div>
                    <div class="filter-slider">
                        <label for="blur">블러</label>
                        <input type="range" id="blur" data-filter="blur" min="0" max="20" value="0">
                    </div>
                    <div class="filter-slider">
                        <label for="grain">그레인</label>
                        <input type="range" id="grain" data-filter="grain" min="0" max="100" value="0">
                    </div>
                    <div class="filter-checkbox">
                        <input type="checkbox" id="remove-bg-checkbox">
                        <label for="remove-bg-checkbox">배경 제거</label>
                    </div>
                    <div class="filter-slider" id="remove-bg-threshold-slider" style="display: none;">
                        <label for="remove-bg-threshold">배경 제거 민감도</label>
                        <input type="range" id="remove-bg-threshold" min="0" max="255" value="50">
                    </div>
                </div>
            </div>
        </div>
        <div id="review-actions-container">
            <button id="retake-btn" style="display: none;">재촬영</button>
            <div class="finalize-options">
                <button id="add-font-btn" style="display: none;">폰트 추가</button>
                <button id="add-preset-btn" class="floating-btn-add" style="display: none;">+</button>
                <button id="finalize-btn">최종 완료</button>
            </div>
        </div>
    </div>




    <!-- Add Style Modal -->
    <div id="add-style-modal" class="modal-hidden">
        <div class="modal-content">
            <h3>새 스타일 추가</h3>
            <div>
                <input type="text" id="new-style-name" placeholder="Style Name (e.g., Futuristic)">
            </div>
            <div>
                <textarea id="new-style-prompt" placeholder="Enter a prompt (e.g., a beautiful fantasy landscape)" rows="4"></textarea>
            </div>
            <div class="modal-actions">
                <button id="add-style-confirm-btn">확인</button>
                <button id="add-style-cancel-btn">취소</button>
            </div>
        </div>
    </div>

    <!-- Edit Style Modal -->
    <div id="edit-style-modal" class="modal-hidden">
        <div class="modal-content">
            <h3>스타일 수정</h3>
            <input type="hidden" id="edit-style-id">
            <div>
                <input type="text" id="edit-style-name" placeholder="Style Name (e.g., Futuristic)">
            </div>
            <div>
                <textarea id="edit-style-prompt" placeholder="Enter a prompt (e.g., a beautiful fantasy landscape)" rows="4"></textarea>
            </div>
            <div class="modal-actions">
                <button id="edit-style-confirm-btn">확인</button>
                <button id="edit-style-cancel-btn">취소</button>
            </div>
        </div>
    </div>

    

    

    <!-- Add Filter Preset Modal -->
    <div id="add-filter-preset-modal" class="modal-hidden">
        <div class="modal-content">
            <h3>새 필터 프리셋 추가</h3>
            <div class="modal-body">
                <div class="modal-left">
                    <input type="text" id="new-preset-name" placeholder="Preset Name">
                    <div id="preset-filter-controls">
                        <!-- Filter sliders will be dynamically inserted here -->
                    </div>
                </div>
                <div class="modal-right">
                    <div id="preset-preview"></div>
                </div>
            </div>
            <div class="modal-actions">
                <button id="add-preset-confirm-btn">확인</button>
                <button id="add-preset-cancel-btn">취소</button>
            </div>
        </div>
    </div>
</div>